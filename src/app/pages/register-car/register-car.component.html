<!-- component para registrar novos carros -->

<form [formGroup]="carForm" class="mb-3">
  <!-- CAMPO DE MARCA -->
  <div class="form-group col-md-6">
    <label for="brand" class="form-label">Qual a marca do carro?</label>
    <select id="brand" class="form-select" formControlName="brand">
      <option value="" selected>Selecione a marca</option>
      <option value="0">Fiat</option>
      <option value="1">Honda</option>
      <option value="2">Peugeot</option>
      <option value="3">Hyundai</option>
      <option value="4">Ford</option>
      <option value="5">Chevrolet</option>
      <option value="6">Renault</option>
      <option value="7">Toyota</option>
      <option value="8">Volkswagen</option>
      <option value="9">Jeep</option>
      <option value="10">Nissan</option>
      <option value="11">Citroen</option>
      <option value="12">BMW</option>
      <option value="13">Mercedes</option>
      <option value="14">Audi</option>
    </select>
    <div
      *ngIf="carForm.get('brand')?.hasError('invalidBrand')"
      class="invalid-feedback"
    >
      Selecione uma marca!
    </div>
  </div>

  <!-- CAMPO DE MODELO -->
  <div class="form-group col-md-6">
      <label for="model">Modelo</label>
      <input id="model" type="text" class="form-control"
      [class.is-invalid]="carForm.get('model')?.errors && carForm.get('model')?.touched" 
      formControlName="model"/>
      <div
      *ngIf="carForm.get('model')?.hasError('required')"
      class="invalid-feedback"
      >
        O campo modelo é obrigatório!
      </div>
      <div
      *ngIf="
      carForm.get('model')?.hasError('minlength') || 
      carForm.get('model')?.hasError('maxlength')
      "
      
      class="invalid-feedback"
      >
        O campo modelo deve ter entre 2 e 100 caracteres!
    </div>
  </div>

  <!-- CAMPO DE ANO -->
  <div class="form-group col-md-6">
      <label for="year">Year</label>
      <input id="year" type="text" class="form-control" 
      [class.is-invalid]="carForm.get('year')?.errors && carForm.get('year')?.touched" 
      formControlName="year"/>
      <div
        *ngIf="carForm.get('year')?.hasError('required')"
        class="invalid-feedback"
        >
          O campo do ano é obrigatório!
        </div>
        <div
        *ngIf="
        carForm.get('year')?.hasError('minlength') || 
        carForm.get('year')?.hasError('maxlength')
        "
        
        class="invalid-feedback"
        >
          O campo do ano deve ter 4 caracteres!
        </div>
  </div>

  <div class="form-group col-md-6">
    <label for="price">Preço</label>
    <input id="price" type="number" class="form-control" 
    [class.is-invalid]="carForm.get('price')?.errors && carForm.get('price')?.touched" 
    formControlName="price"/>
    <div
      *ngIf="carForm.get('price')?.hasError('required')"
      class="invalid-feedback"
      >
        O campo de preço é obrigatório!
      </div>
      <div
      *ngIf="
      carForm.get('price')?.hasError('min') || 
      carForm.get('price')?.hasError('max')
      "
      
      class="invalid-feedback"
      >
        O campo de preço está incorreto!
      </div>
  </div>

  <!-- CAMPO DE REGISTRO -->
  <div class="form-group col-md-6">
    <label for="registerDate">Ano de Registro</label>
    <input id="registerDate" type="text" class="form-control" 
    [class.is-invalid]="carForm.get('registerDate')?.errors && carForm.get('registerDate')?.touched" 
    formControlName="registerDate"/>
    <div
      *ngIf="carForm.get('registerDate')?.hasError('required')"
      class="invalid-feedback"
      >
        O campo do ano de registro é obrigatório!
      </div>
      <div
      *ngIf="
      carForm.get('registerDate')?.hasError('minlength') || 
      carForm.get('registerDate')?.hasError('maxlength')
      "
      
      class="invalid-feedback"
      >
        O campo do ano de registro deve ter 4 caracteres!
      </div>
</div>
  <button 
    [disabled]="!carForm.valid"
    (click)="SubmitForm()" 
    class="btn btn-success mt-3"> 
      Add car
  </button>
</form>
