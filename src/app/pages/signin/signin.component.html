<div class="signin-container">
  <div class="back-button-container">
    <button class="btn btn-outline-secondary" routerLink="/">
      <i class="bi bi-arrow-left"></i> Voltar para Home
    </button>
  </div>
  <div class="custom-card">
    <div class="card-header">
      <h2>{{ isSignUp ? 'Criar novo usuário' : 'Acessar perfil' }}</h2>
      <p class="text-muted">
        {{ isSignUp ? 
          'Crie sua conta para registrar e gerenciar seus carros favoritos' : 
          'Faça login para acessar todas as funcionalidades do Dream Car' 
        }}
      </p>
    </div>
    <div class="card-body">
      <form [formGroup]="signinForm" (ngSubmit)="onSubmit()">
        <div class="form-group" *ngIf="isSignUp">
          <label for="fullName">Nome Completo</label>
          <input
            type="text"
            id="fullName"
            formControlName="fullName"
            class="form-control"
            placeholder="Digite seu nome completo"
          >
          <div class="error-message" *ngIf="signinForm.get('fullName')?.invalid && signinForm.get('fullName')?.touched">
            Nome completo é obrigatório
          </div>
        </div>

        <div class="form-group" *ngIf="isSignUp">
          <label for="username">Nome de usuário</label>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control"
            placeholder="Escolha um nome de usuário"
          >
          <div class="error-message" *ngIf="signinForm.get('username')?.invalid && signinForm.get('username')?.touched">
            Nome de usuário é obrigatório
          </div>
        </div>

        <div class="form-group" *ngIf="isSignUp">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            placeholder="Digite seu email"
          >
          <div class="error-message" *ngIf="signinForm.get('email')?.invalid && signinForm.get('email')?.touched">
            Por favor, digite um endereço de email válido
          </div>
        </div>

        
        <div class="form-group" *ngIf="!isSignUp">
          <label for="usernameOrEmail">Nome de usuário ou email</label>
          <input
            type="text"
            id="usernameOrEmail"
            formControlName="usernameOrEmail"
            class="form-control"
            placeholder="Digite seu nome de usuário ou email"
          >
          <div class="error-message" *ngIf="signinForm.get('usernameOrEmail')?.invalid && signinForm.get('usernameOrEmail')?.touched">
            Nome de usuário ou email é obrigatório
          </div>
        </div>


        <div class="form-group">
          <label for="password">Senha</label>
          <div class="password-input">
            <input
              [type]="hidePassword ? 'password' : 'text'"
              id="password"
              formControlName="password"
              class="form-control"
              placeholder="Digite sua senha"
            >
            <button
              type="button"
              class="toggle-password"
              (click)="hidePassword = !hidePassword"
            >
              {{ hidePassword ? 'Show' : 'Hide' }}
            </button>
          </div>
          <div class="error-message" *ngIf="signinForm.get('password')?.invalid && signinForm.get('password')?.touched">
            A senha deve conter pelo menos 6 caracteres
          </div>
        </div>

        <button
          type="submit"
          class="btn-submit"
          [disabled]="signinForm.invalid"
        >
          {{ isSignUp ? 'Criar conta' : 'Acessar perfil' }}
        </button>
      </form>
    </div>
    <div class="card-footer">
      <p>
        {{ isSignUp ? 'Já tem uma conta?' : "Não tem uma conta?" }}
        <button class="signup-button" (click)="toggleSignUp()">
          {{ isSignUp ? 'Acessar perfil' : 'Criar conta' }}
        </button>
      </p>
    </div>
  </div>
</div>
